(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(56),a=n.n(r),o=n(63),i=n(13),u=n(60),j=n(2),b=(n(68),n(1)),h=function(e){return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"nombre",children:[Object(b.jsx)("h1",{children:"Ingresa tu nombre:"}),Object(b.jsx)("input",{type:"text",name:"nombre",value:e.nombre,onChange:function(t){return e.setNombre(t.target.value)}}),Object(b.jsx)("button",{onClick:function(){return e.history.push("/chat")},children:"Enviar!"})]})})},d=n(28),l=n.n(d),O=n(57),m=n(62),f=n(58),p=n.n(f),x=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)(!1),o=Object(i.a)(a,2),u=o[0],j=o[1],h=Object(c.useState)([]),d=Object(i.a)(h,2),f=d[0],x=d[1],v=Object(c.useState)(null),k=Object(i.a)(v,2),N=k[0],E=k[1];Object(c.useEffect)((function(){fetch("https://chatmindhub.herokuapp.com/api/chat").then((function(e){return e.json()})).then((function(e){return x(e.response)}))}),[u]),Object(c.useEffect)((function(){e.socket&&(e.socket.on("actualizate",(function(e){x([].concat(Object(m.a)(f),[e]))})),e.socket.on("escribiendo",(function(e){E(e),setTimeout((function(){E(null)}),1e3)})))}));var S=function(){var t=Object(O.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={emisor:e.nombre,mensaje:s},t.next=3,p.a.post("https://chatmindhub.herokuapp.com/api/chat",n);case 3:t.sent,e.socket.emit("teMandeNuevoMensaje",n),j(!u),r("");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"chat",children:[Object(b.jsxs)("div",{className:"mensajes",children:[f.map((function(e){return Object(b.jsx)("div",{className:"mensaje",children:Object(b.jsxs)("h3",{children:[e.emisor," dijo: ",e.mensaje]})})})),N&&Object(b.jsxs)("h3",{style:{color:"red"},children:[N," est\xe1 escribiendo..."]})]}),Object(b.jsxs)("div",{className:"input",children:[Object(b.jsx)("input",{type:"text",name:"mensaje",placeholder:"Escrib\xed ac\xe1...",value:s,onChange:function(t){r(t.target.value),e.socket.emit("escribiendo",e.nombre)}}),Object(b.jsx)("button",{onClick:S,children:"Enviar"})]})]})})},v=n(59),k=n.n(v),N=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(null),a=Object(i.a)(r,2),d=a[0],l=a[1];return Object(c.useEffect)((function(){l(k()("https://chatmindhub.herokuapp.com"))}),[]),Object(b.jsx)(u.a,{children:Object(b.jsxs)(j.d,{children:[Object(b.jsx)(j.b,{exact:!0,path:"/",render:function(e){return Object(b.jsx)(h,Object(o.a)({nombre:n,setNombre:s},e))}}),""!==n&&Object(b.jsx)(j.b,{path:"/chat",render:function(){return Object(b.jsx)(x,{nombre:n,socket:d})}}),Object(b.jsx)(j.a,{to:"/"})]})})};a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root"))},68:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.5fcc0ee4.chunk.js.map