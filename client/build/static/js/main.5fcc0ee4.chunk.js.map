{"version":3,"sources":["Bienvenida.js","Chat.js","App.js","index.js"],"names":["Bienvenida","props","className","type","name","value","nombre","onChange","e","setNombre","target","onClick","history","push","Chat","useState","mensaje","setMensaje","reload","setReload","mensajes","setMensajes","escribiendo","setEscribiendo","useEffect","fetch","then","res","json","data","response","socket","on","nuevoMensaje","setTimeout","enviarMensaje","a","emisor","axios","post","emit","map","style","color","placeholder","App","setSocket","io","exact","path","render","to","ReactDOM","StrictMode","document","getElementById"],"mappings":"gMAeeA,EAbI,SAACC,GAChB,OACI,qBAAKC,UAAU,YAAf,SACI,sBAAKA,UAAU,SAAf,UACI,oDACA,uBAAOC,KAAK,OAAOC,KAAK,SAASC,MAAOJ,EAAMK,OAC9CC,SAAU,SAACC,GAAD,OAAOP,EAAMQ,UAAUD,EAAEE,OAAOL,UAC1C,wBAAQM,QAAS,kBAAMV,EAAMW,QAAQC,KAAK,UAA1C,2B,kDCuDDC,EA7DF,SAACb,GACV,MAA8Bc,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA4BF,oBAAS,GAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAAgCJ,mBAAS,IAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KACA,EAAsCN,mBAAS,MAA/C,mBAAOO,EAAP,KAAoBC,EAApB,KAEAC,qBAAU,WACNC,MAAM,8CACLC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAIR,EAAYQ,EAAKC,eAChC,CAACZ,IAEJM,qBAAU,WACFvB,EAAM8B,SACN9B,EAAM8B,OAAOC,GAAG,eAAe,SAACC,GAC9BZ,EAAY,GAAD,mBAAKD,GAAL,CAAea,QAE5BhC,EAAM8B,OAAOC,GAAG,eAAe,SAAC1B,GAC/BiB,EAAejB,GACZ4B,YAAW,WACPX,EAAe,QACjB,YAKd,IAAMY,EAAa,uCAAG,4BAAAC,EAAA,6DACZH,EAAe,CACjBI,OAAQpC,EAAMK,OACdU,WAHc,SAKMsB,IAAMC,KAAK,6CAA8CN,GAL/D,cAMlBhC,EAAM8B,OAAOS,KAAK,sBAAuBP,GACzCd,GAAWD,GACXD,EAAW,IARO,2CAAH,qDAWnB,OACI,qBAAKf,UAAU,YAAf,SACI,sBAAKA,UAAU,OAAf,UACI,sBAAKA,UAAU,WAAf,UACKkB,EAASqB,KAAI,SAAAzB,GAAO,OACjB,qBAAKd,UAAU,UAAf,SACI,+BAAKc,EAAQqB,OAAb,UAA4BrB,EAAQA,gBAG3CM,GAAe,qBAAIoB,MAAO,CAACC,MAAO,OAAnB,UAA4BrB,EAA5B,gCAEpB,sBAAKpB,UAAU,QAAf,UACA,uBAAOC,KAAK,OAAOC,KAAK,UAAUwC,YAAY,uBAC9CvC,MAAOW,EAAST,SAAU,SAACC,GACvBS,EAAWT,EAAEE,OAAOL,OACpBJ,EAAM8B,OAAOS,KAAK,cAAevC,EAAMK,WAE3C,wBAAQK,QAASwB,EAAjB,6B,iBC/BDU,EAnBH,WACV,MAA4B9B,mBAAS,IAArC,mBAAOT,EAAP,KAAeG,EAAf,KACA,EAA4BM,mBAAS,MAArC,mBAAOgB,EAAP,KAAee,EAAf,KAMA,OAJAtB,qBAAU,WACRsB,EAAUC,IAAG,wCACZ,IAGD,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,OAAQ,SAACjD,GAAD,OAAW,cAAC,EAAD,aAAYK,OAAQA,EAAQG,UAAWA,GAAeR,OACnF,KAAXK,GAAiB,cAAC,IAAD,CAAO2C,KAAK,QAAQC,OAAQ,kBAAM,cAAC,EAAD,CAAM5C,OAAQA,EAAQyB,OAAQA,OAClF,cAAC,IAAD,CAAUoB,GAAG,YChBrBC,IAASF,OACP,cAAC,IAAMG,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.5fcc0ee4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Bienvenida = (props) => {\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"nombre\">\r\n                <h1>Ingresa tu nombre:</h1>\r\n                <input type=\"text\" name=\"nombre\" value={props.nombre} \r\n                onChange={(e) => props.setNombre(e.target.value)} />\r\n                <button onClick={() => props.history.push('/chat')}>Enviar!</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Bienvenida\r\n","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst Chat = (props) => {\r\n    const [mensaje, setMensaje] = useState('')\r\n    const [reload, setReload] = useState(false)\r\n    const [mensajes, setMensajes] = useState([])\r\n    const [escribiendo, setEscribiendo] = useState(null)\r\n\r\n    useEffect(() => {\r\n        fetch('https://chatmindhub.herokuapp.com/api/chat')\r\n        .then(res => res.json())\r\n        .then(data => setMensajes(data.response) )\r\n    }, [reload])\r\n\r\n    useEffect(() => {\r\n        if (props.socket) {\r\n            props.socket.on('actualizate', (nuevoMensaje) => {\r\n              setMensajes([...mensajes, nuevoMensaje])\r\n            })\r\n            props.socket.on('escribiendo', (nombre) => {\r\n             setEscribiendo(nombre)\r\n                setTimeout(() => {\r\n                    setEscribiendo(null)\r\n                },1000)\r\n              })\r\n        }\r\n    })\r\n\r\n    const enviarMensaje = async () => {\r\n        const nuevoMensaje = {\r\n            emisor: props.nombre,\r\n            mensaje\r\n        }\r\n        const respuesta = await axios.post('https://chatmindhub.herokuapp.com/api/chat', nuevoMensaje)\r\n        props.socket.emit('teMandeNuevoMensaje', nuevoMensaje)\r\n        setReload(!reload)\r\n        setMensaje('')\r\n    }\r\n    \r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"chat\">\r\n                <div className=\"mensajes\">\r\n                    {mensajes.map(mensaje => (\r\n                        <div className=\"mensaje\">\r\n                            <h3>{mensaje.emisor} dijo: {mensaje.mensaje}</h3>\r\n                        </div>\r\n                    ))}\r\n                    {escribiendo && <h3 style={{color: 'red'}}>{escribiendo} está escribiendo...</h3>}\r\n                </div>\r\n                <div className=\"input\">\r\n                <input type=\"text\" name=\"mensaje\" placeholder=\"Escribí acá...\"\r\n                value={mensaje} onChange={(e) => {\r\n                    setMensaje(e.target.value)\r\n                    props.socket.emit('escribiendo', props.nombre)\r\n                } } />\r\n                <button onClick={enviarMensaje}>Enviar</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","import React, { useEffect, useState } from 'react'\nimport {BrowserRouter, Redirect, Route, Switch} from 'react-router-dom'\nimport './App.css'\nimport Bienvenida from './Bienvenida'\nimport Chat from './Chat'\nimport io from 'socket.io-client'\n\nconst App = () => {\n  const [nombre, setNombre] = useState('')\n  const [socket, setSocket] = useState(null)\n\n  useEffect(() => {\n    setSocket(io('https://chatmindhub.herokuapp.com'))\n  }, [])\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/\" render={(props) => <Bienvenida nombre={nombre} setNombre={setNombre} {...props} />} />\n        {nombre !== '' && <Route path=\"/chat\" render={() => <Chat nombre={nombre} socket={socket} />} />}\n        <Redirect to=\"/\" />\n      </Switch>\n    </BrowserRouter>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}